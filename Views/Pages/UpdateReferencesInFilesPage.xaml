<Page x:Class="SeResResaver.Views.Pages.UpdateReferencesInFilesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
      xmlns:local="clr-namespace:SeResResaver"
      xmlns:res="clr-namespace:SeResResaver.Resources"
      xmlns:b="clr-namespace:SeResResaver.Behaviors"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Padding="5" Text="{x:Static res:Strings.UpdateReferencesInFilesPage_Help}" TextWrapping="Wrap"/>

        <ToolBar Grid.Row="1">
            <Button Command="{Binding AddFilesCommand}" ToolTip="{x:Static res:Strings.Common_AddFiles}">
                <Image Source="{StaticResource AddFileIcon}" Width="20" Height="20" Style="{StaticResource ButtonImageStyle}"/>
            </Button>
            <Button Command="{Binding AddFolderCommand}" ToolTip="{x:Static res:Strings.Common_AddFolders}">
                <Image Source="{StaticResource AddFolderIcon}" Width="20" Height="20" Style="{StaticResource ButtonImageStyle}"/>
            </Button>
            <Button Command="{Binding RemoveFilesCommand}" ToolTip="{x:Static res:Strings.Common_RemoveFiles}">
                <Image Source="{StaticResource RemoveIcon}" Width="20" Height="20" Style="{StaticResource ButtonImageStyle}"/>
            </Button>

            <Separator/>

            <Label Content="{x:Static res:Strings.Common_Filter}"/>
            <TextBox MinWidth="200" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Command="{Binding ClearFilterCommand}" ToolTip="{x:Static res:Strings.Common_Clear}">
                <Image Source="{StaticResource ClearFilterIcon}" Width="20" Height="20" Style="{StaticResource ButtonImageStyle}"/>
            </Button>
        </ToolBar>

        <ListView Grid.Row="2" ItemsSource="{Binding Files}" SelectionMode="Extended">
            <i:Interaction.Behaviors>
                <b:BindableListViewSelectedItemsBehavior SelectedItems="{Binding SelectedItems}" ViewModel="{Binding}"/>
            </i:Interaction.Behaviors>
        </ListView>

        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button MinWidth="70" Margin="5" Padding="10,3" Click="OnBackClick" Content="{x:Static res:Strings.Common_Back}"/>
            <Button MinWidth="70" Margin="0,5" Padding="10,3" Click="OnNextClick" Content="{x:Static res:Strings.Common_Next}"/>
        </StackPanel>

    </Grid>
</Page>
